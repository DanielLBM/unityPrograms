### Empries & Puzzles 

游戏描述：rpg和三消游戏搭配混合，消除元素的同时，可以攻击小怪或boss，积累能量，释放技能

##### 1、关卡编辑器系统

（地图、元素、特殊元素、人物属性、怪物）关卡设计是通过在关卡地图上的摆放，对游戏底层设计、特殊元素设计以及关卡模式设计地图、元素、特殊元素、人物属性、怪物）的组合和延伸。

策划使用编辑器工具将三消模块和英雄怪物模块的组合和扩展组合成一个关卡

##### 2、三消模块系统

1.关卡初始的局面随机（概率）

2.关卡中掉落生成概率随机

a)增加目标元素的概率。在下图《开心消消乐》的关卡例子里，我们可以增加红，黄，蓝的概率而减少其他颜色的概率。

b)局部随机集中。在每一个回合中，使用方差更高的随机模板

c)数量判定随机修正。备注：在每一个回合中，每种颜色的随机概率=(当前游戏池内本颜色数量+a)*100。a是一个修正因子，其存在的目的之一是为了避免当前场内消除干净的元素再也无法出现。这一算法如果要使用的话，最好和上面的a算法结合使用，不然可能会使得目标元素长期处在数量不足的状态，反而加大关卡难度。

d)随机场面修正。备注：首先在下落过程中使用一种叫做“黑元素”的特殊元素进行模拟下落。待模拟下落结束时，对所有的“黑元素”基于随机模板进行随机，生成100个不同的局面，然后对这100个局面进行计分(这里的计分算法可以参考笔者的另一篇拙作《三消游戏的自动关卡测试机制》)，然后选取其中分数高的随机结果作为实际的生成结果。

3.其他特殊元素的随机生成优化

备注：相同元素小于4 个不生成、等于4个生成特殊元素1、大于4个生成特殊元素2

##### 3、角色系统

角色character包括hero/Monster

英雄的属性（元素属性、攻击力、防御力、生命值、升级）分别用字典存起来 提供接口给外界去取

怪物的属性（元素属性、攻击力、防御力、生命值、升级）

characters(人物系统)

Hero/Monster 

Structure  

sharaAttrubute (属性)：level、hp、mp、def、attack、missRate、hitRate ...

sharaInfo（信息）:name 、id、image、...

hero: 局内属性（基础属性，动态属性 （buff））和局外的属性（等级属性，装备属性），

monster:局内属性（基础属性，动态属性 （buff））和局外的属性（等级属性，装备属性），

buff、：添加，移除，（事件委托）再什么时候触发buff（skill之前，之后），buff的持续时间，buff的类型，使用配置表来配置buff

skill(技能模块)、skill的类型，技能的属性，配置表来配置技能，

数据层的设计和实现，

战斗模块、局内的属性（基础属性和动态属性）的数值计算，

数值的计算

##### 3、基地建设系统

##### 4、新手引导系统

##### 5、剧情系统

##### 6、时间系统

##### 7、背包系统



